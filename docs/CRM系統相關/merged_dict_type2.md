---
sidebar_position: 1
---

0、前言
------
:::tip
**寫此篇文章的動機**  
此檔案是來介紹如何 merged 兩個 dict 的教學，另外一種類型
:::



1、透過相同的 key，merged 兩個 dict
------

這一次有不同類型的 `合併 dict` 方式，來達成兩個 dict 的合併，也就是我現在原地新增一個 dict，如果原本的 dict 有同 ec_id 的話，就更新該 ec 的資料，如果沒有就新增

* 下面是兩個 dict 的格式

```py
# 第一個 dict
dict1 = {'1376': {'Dashboard_FB花費': 0,
                  'Dashboard_GADS花費': 129670,
                  'Dashboard_Tiktok花費': 0,
                  'OP表_FB花費': 0,
                  'OP表_GADS花費': 129655,
                  'OP表_TIKTOK花費': 0,
                  'ec_id': '1376',
                  '客戶名稱': 'Bookwalker',
                  '實際廣告花費走期': '11/1-11/30',
                  '實際開發票金額(未稅)': 150000,
                  '當月預算(含服)': 155743,
                  '發票號碼': 'HF43181562',
                  '總預算(含服)': 155743,
                  '預估當月毛利': 19705},
        '946': {'Dashboard_FB花費': 0,
                'Dashboard_GADS花費': 16938,
                'Dashboard_Tiktok花費': 0,
                'OP表_FB花費': 0,
                'OP表_GADS花費': 0,
                'OP表_TIKTOK花費': 0,
                'ec_id': '946',
                '客戶名稱': '上通電子',
                '實際廣告花費走期': '11/1~11/30',
                '實際開發票金額(未稅)': 19479,
                '當月預算(含服)': 20000,
                '發票號碼': 'HF43181652',
                '總預算(含服)': 20000,
                '預估當月毛利': 2530}
        }


# 第二個 dict
dict2 = {
    '111': {'Dashboard_FB花費': '2200',
             'Dashboard_GADS花費': '200',
             'Dashboard_Tiktok花費': '300',
             'OP表_FB花費': '1373',
             'OP表_GADS花費': '777',
             'OP表_TIKTOK花費': '771',
             'ec_id': '111',
             '客戶名稱': '測試',
             '實際廣告花費走期': '11/1~9/30',
             '實際開發票金額(未稅)': '300',
             '當月預算(含服)': '300',
             '發票號碼': 'HF00000000',
             '總預算(含服)': '300',
             '預估當月毛利': '500'},
    '222': {'Dashboard_FB花費': '111',
             'Dashboard_GADS花費': '333',
             'Dashboard_Tiktok花費': '55',
             'OP表_FB花費': '123',
             'OP表_GADS花費': '456',
             'OP表_TIKTOK花費': '789',
             'ec_id': '222',
             '客戶名稱': '測試2',
             '實際廣告花費走期': '11/1~9/30',
             '實際開發票金額(未稅)': '300',
             '當月預算(含服)': '300',
             '發票號碼': 'FG1111111111',
             '總預算(含服)': '300',
             '預估當月毛利': '500'},
}
```

* 來把兩個融合到一起

```py
for key, value in dict2.items():

    # 用 dict2 的 ec_id 抓出第二個 dict 的資料
    ec_id = value.get("ec_id")

    # 有的話，就直接把 dict2 的資料，補進 dict1 裡面
    if ec_id in dict1:
        dict1["ec_id"].update(value)
    else:
        dict1["ec_id"] = value
```